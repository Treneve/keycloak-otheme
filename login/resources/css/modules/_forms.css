/* Forms â€“ inputs, placeholders, validation */

.pf-v5-c-login .pf-v5-c-form-control {
  --pf-v5-c-form-control--before--BorderTopWidth: 1px;
  --pf-v5-c-form-control--before--BorderRightWidth: 1px;
  --pf-v5-c-form-control--before--BorderBottomWidth: 1px;
  --pf-v5-c-form-control--before--BorderLeftWidth: 1px;

  --pf-v5-c-form-control--before--BorderTopColor: var(--brand-border-default);
  --pf-v5-c-form-control--before--BorderRightColor: var(--brand-border-default);
  --pf-v5-c-form-control--before--BorderBottomColor: var(--brand-border-default);
  --pf-v5-c-form-control--before--BorderLeftColor: var(--brand-border-default);

  --pf-v5-c-form-control--after--BorderBottomWidth: 0;
  --pf-v5-c-form-control--after--BorderBottomColor: transparent;

  --pf-v5-c-form-control--BorderColor: var(--brand-border-default);
  --pf-v5-c-form-control--hover--BorderColor: var(--brand-primary);
  --pf-v5-c-form-control--focus--BorderColor: var(--brand-primary);
  --pf-v5-c-form-control--BorderRadius: 0;

  --pf-v5-c-form-control--PaddingTop: 17px;
  --pf-v5-c-form-control--PaddingBottom: 17px;

   --pf-v5-c-form-control--PaddingLeft: 1rem;

  /* Smooth hover/focus transition (like buttons) */
  transition: border-color 180ms ease, box-shadow 180ms ease;
}

.pf-v5-c-login .pf-v5-c-form {
  --tek-login-form-spacing: 1.5rem;
}

/* Make login form spacing consistent by using flex gap and removing PF defaults */
.pf-v5-c-login #kc-form-login.pf-v5-c-form {
  display: flex;
  flex-direction: column;
  gap: var(--tek-login-form-spacing);
}

.pf-v5-c-login #kc-form-login .pf-v5-c-form__label {
  margin-bottom: 0.9rem;
}

.pf-v5-c-login .pf-v5-u-mb-md-on-md {
  margin-block-end: var(--tek-login-form-spacing) !important;
}

.pf-v5-c-login #kc-form-login > input[type="hidden"] {
  display: none;
}

.pf-v5-c-login #kc-form-login .pf-v5-c-check {
  margin: 0;
}

.pf-v5-c-login #kc-form-login .pf-v5-c-form__group {
  --pf-v5-c-form__group--MarginBottom: 0;
  margin: 0;
}

.pf-v5-c-login .pf-v5-c-form-control::placeholder {
  color: var(--brand-text-muted);
  opacity: 1;
}

/* Fallbacks */
/* Do not show hover when the control is readonly */
.pf-v5-c-login .pf-v5-c-form-control:not(:disabled):not(:has(:is(input,select,textarea)[readonly])):not(:has(:is(input,select,textarea)[aria-readonly="true"])):hover {
  border-color: var(--brand-primary);
  box-shadow: 0 0 0 2px var(--brand-primary);
  /* Ensure PF's pseudo-border uses the same color */
  --pf-v5-c-form-control--before--BorderTopColor: var(--brand-primary);
  --pf-v5-c-form-control--before--BorderRightColor: var(--brand-primary);
  --pf-v5-c-form-control--before--BorderBottomColor: var(--brand-primary);
  --pf-v5-c-form-control--before--BorderLeftColor: var(--brand-primary);
}
.pf-v5-c-login .pf-v5-c-form-control:focus,
.pf-v5-c-login .pf-v5-c-form-control:focus-visible {

  box-shadow: none; /* keep behavior consistent with original */
}

/* Slightly shrink the control inside input groups so adjacent icon buttons stay visible */
.pf-v5-c-login .pf-v5-c-input-group__item.pf-m-fill .pf-v5-c-form-control {
  width: 98%;
}

.pf-v5-c-login .pf-v5-c-input-group__item.pf-m-fill .pf-v5-c-form-control > :is(input, select, textarea) {
  width: 100%;
}

.pf-v5-c-form-control>:is(input,select,textarea):focus {
  outline: none;
}

/* Validation */
.pf-v5-c-login .pf-v5-c-form-control[aria-invalid="true"] {
  border-color: var(--brand-danger);
  background-color: var(--brand-danger-bg);
}
.pf-v5-c-login .pf-v5-c-helper-text__item.pf-m-error { color: var(--brand-danger); }
